(this["webpackJsonpweather-site"]=this["webpackJsonpweather-site"]||[]).push([[0],{13:function(t,e,n){},14:function(t,e,n){},22:function(t,e,n){"use strict";n.r(e);var a=n(1),o=n.n(a),i=n(3),c=n.n(i),s=(n(13),n(4)),r=n(5),h=n(8),l=n(7),d=(n(14),n(6)),u=n.n(d),j=n(0),f={icon:"CLEAR_DAY",color:"white",size:100,animate:!0},p=new Map;p.set("01d","CLEAR_DAY"),p.set("01n","CLEAR_NIGHT"),p.set("02d","PARTLY_CLOUDY_DAY"),p.set("02n","PARTLY_CLOUDY_NIGHT"),p.set("03d","CLOUDY"),p.set("03n","CLOUDY"),p.set("04d","CLOUDY"),p.set("04n","CLOUDY"),p.set("09d","RAIN"),p.set("09n","RAIN"),p.set("10d","RAIN"),p.set("10n","RAIN"),p.set("11d","RAIN"),p.set("11n","RAIN"),p.set("13d","SNOW"),p.set("13n","SNOW"),p.set("50d","FOG"),p.set("50n","FOG");var O=function(t){Object(h.a)(n,t);var e=Object(l.a)(n);function n(){var t;return Object(s.a)(this,n),(t=e.call(this)).getLocation=function(){navigator.geolocation?navigator.geolocation.getCurrentPosition(t.setPosition):alert("Geolocation is not supported by this browser.")},t.setPosition=function(e){t.setState({latitude:e.coords.latitude}),t.setState({longitude:e.coords.longitude}),t.fetchData()},t.fetchData=function(){fetch("https://api.openweathermap.org/data/2.5/weather?lat=".concat(t.state.latitude,"&lon=").concat(t.state.longitude,"&appid=").concat("1255faa2df27fc423bcd20a9113f2a85","&units=metric")).then((function(t){return t.json()})).then((function(e){e.weather?t.setState({weatherData:e}):t.setState({appError:e})})).catch((function(t){return console.log(t)}))},t.isDay=function(){return"d"===t.state.weatherData.weather[0].icon.slice(-1)?(f.color="black",!0):(f.color="white",!1)},t.state={weatherData:null,appError:null,latitude:null,longitude:null},t}return Object(r.a)(n,[{key:"componentDidMount",value:function(){var t=this;this.getLocation(),setInterval((function(){t.fetchData()}),25e4)}},{key:"render",value:function(){var t=this.state.weatherData;return this.state.appError?Object(j.jsx)("h1",{children:"Failed to load weather data."}):t?Object(j.jsxs)("div",{className:"App "+(this.isDay()?"":"night"),children:[Object(j.jsx)("div",{className:"icon",children:Object(j.jsx)(u.a,{icon:p.get(t.weather[0].icon),color:f.color,size:f.size,animate:f.animate})}),Object(j.jsxs)("div",{children:[Object(j.jsxs)("h3",{children:[Math.round(t.main.temp)," \xb0C"]}),Object(j.jsx)("h3",{children:t.weather[0].main})]}),Object(j.jsx)("span",{children:"\xa9 2021 Robin Ghrayche"})]}):Object(j.jsx)(j.Fragment,{})}}]),n}(o.a.Component),b=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,23)).then((function(e){var n=e.getCLS,a=e.getFID,o=e.getFCP,i=e.getLCP,c=e.getTTFB;n(t),a(t),o(t),i(t),c(t)}))};c.a.render(Object(j.jsx)(o.a.StrictMode,{children:Object(j.jsx)(O,{})}),document.getElementById("root")),b()}},[[22,1,2]]]);
//# sourceMappingURL=main.3f788773.chunk.js.map